<!DOCTYPE html>
<html>

<head>
    <title>Debug Test</title>
</head>

<body>
    <div id="loading">Loading...</div>
    <div id="loading-progress">Progress...</div>
    <div id="error-message" style="display:none;">
        <div class="error-title">Error</div>
        <div id="error-details">Details</div>
    </div>
    <div id="map-container"></div>
    <div id="ui-panel">
        <button id="panel-toggle">Toggle</button>
        <input id="search-input" type="text">
        <select id="researcher-filter"></select>
        <input id="year-filter" type="range">
        <span id="year-display">2024</span>
        <select id="cluster-filter"></select>
        <div id="tooltip" style="display:none;">
            <div id="tooltip-title"></div>
            <div id="tooltip-details"></div>
            <div id="tooltip-meta"></div>
        </div>
        <span id="visible-papers">0</span>
        <span id="total-papers">0</span>
        <span id="total-researchers">0</span>
        <span id="total-clusters">0</span>
    </div>

    <script>
        console.log('Testing basic JavaScript...');

        // Test if basic JS works
        try {
            console.log('DOM elements test...');
            const loading = document.getElementById('loading');
            console.log('Loading element:', loading);

            // Load deck.gl first
            console.log('Loading deck.gl...');
            const deckScript = document.createElement('script');
            deckScript.src = 'https://unpkg.com/deck.gl@latest/dist.min.js';
            deckScript.onload = function () {
                console.log('✅ deck.gl loaded successfully');

                // Then load minimal test
                const script = document.createElement('script');
                script.src = 'minimal.js';
                script.onload = function () {
                    console.log('✅ minimal.js loaded successfully');
                };
                script.onerror = function (error) {
                    console.error('❌ minimal.js failed to load:', error);
                };
                document.head.appendChild(script);
            };
            deckScript.onerror = function (error) {
                console.error('❌ deck.gl failed to load:', error);
            };
            document.head.appendChild(deckScript);

        } catch (error) {
            console.error('❌ Basic JavaScript error:', error);
        }
    </script>
</body>

</html>